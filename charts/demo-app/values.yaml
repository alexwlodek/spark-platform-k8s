image:
  repository: ""
  tag: "latest"
  pullPolicy: IfNotPresent

sparkApplication:
  enabled: true

scheduledSparkApplications: []

spark:
  sparkVersion: "3.5.2"
  type: Python
  mode: cluster
  pythonVersion: "3"
  mainApplicationFile: local:///opt/spark/work-dir/job.py
  arguments: []
  sparkConf: {}
  timeToLiveSeconds: 10800
  imagePullSecrets: []
  restartPolicy:
    type: Never
  driver:
    cores: 1
    coreLimit: "1200m"
    memory: "1024m"
    serviceAccount: spark-operator-spark
    labels: {}
  executor:
    instances: 1
    cores: 1
    coreLimit: "1200m"
    memory: "1024m"
    deleteOnTermination: true
    labels: {}

metrics:
  podMonitor:
    enabled: false
    namespace: ""
    labels: {}
    jobLabel: demo-app-spark-drivers
    selector:
      sparkRole: driver
    interval: 30s
    scrapeTimeout: 10s
    endpoints:
      - path: /metrics/prometheus
        targetPort: 4040
      - path: /metrics/executors/prometheus
        targetPort: 4040

grafanaDashboard:
  enabled: false
  namespace: ""
  labels: {}

prometheusRule:
  enabled: false
  namespace: ""
  labels: {}
  alerts:
    submissionStalled:
      enabled: true
      for: 20m
    failureRateHigh:
      enabled: true
      for: 10m
      minCompletedJobs: 3
      thresholdPercent: 20
    startLatencyHigh:
      enabled: true
      for: 10m
      thresholdSeconds: 180
    driverScrapeMissing:
      enabled: true
      for: 5m
